# CTA æŒ‰é’®æ˜¾ç¤ºé—®é¢˜ä¿®å¤æŠ¥å‘Š

## ğŸ” é—®é¢˜åˆ†æ

ç”¨æˆ·åé¦ˆ CTA æŒ‰é’®æ²¡æœ‰å‡ºç°åœ¨ç”Ÿæˆçš„å›¾ç‰‡ä¸­ï¼Œä»¥åŠåœ†è§’è°ƒæ•´æ— æ•ˆçš„é—®é¢˜ã€‚ç»è¿‡æ’æŸ¥ï¼Œå‘ç°äº†ä»¥ä¸‹é—®é¢˜ï¼š

### 1. ç”Ÿæˆæ¡ä»¶é™åˆ¶
**é—®é¢˜**ï¼šåŸä»£ç è¦æ±‚å¿…é¡»æœ‰å¹¿å‘Šæ–‡å­—æ‰èƒ½ç”Ÿæˆå›¾ç‰‡ï¼Œä½†ç”¨æˆ·å¯èƒ½åªæƒ³è¦ CTA æŒ‰é’®ã€‚
```typescript
// åŸä»£ç 
if (!image || adTexts.length === 0) {
  alert('è¯·ä¸Šä¼ å›¾ç‰‡å¹¶æ·»åŠ è‡³å°‘ä¸€ä¸ªå¹¿å‘Šæ–‡å­—')
  return
}
```

**ä¿®å¤**ï¼šå…è®¸åªæœ‰ CTA æŒ‰é’®çš„æƒ…å†µ
```typescript
// ä¿®å¤å
if (!image || (adTexts.length === 0 && !buttonStyle.text.trim())) {
  alert('è¯·ä¸Šä¼ å›¾ç‰‡å¹¶æ·»åŠ è‡³å°‘ä¸€ä¸ªå¹¿å‘Šæ–‡å­—æˆ–CTAæŒ‰é’®æ–‡å­—')
  return
}
```

### 2. CTA æŒ‰é’®åœ†è§’åŠŸèƒ½å¤±æ•ˆ â­ æœ€æ–°ä¿®å¤
**é—®é¢˜**ï¼šåœ¨ä¹‹å‰çš„ä¿®å¤ä¸­ï¼Œä½¿ç”¨äº†ç®€å•çŸ©å½¢ï¼ˆ`fillRect`ï¼‰è€Œä¸æ˜¯åœ†è§’çŸ©å½¢ï¼Œå¯¼è‡´åœ†è§’è®¾ç½®æ— æ•ˆã€‚

**ä¿®å¤**ï¼š
1. **æ¢å¤åœ†è§’çŸ©å½¢ç»˜åˆ¶**ï¼šä½¿ç”¨è‡ªå®šä¹‰çš„ `drawRoundedRect` å‡½æ•°
2. **æ”¹å–„åœ†è§’å€¼è§£æ**ï¼šæ­£ç¡®å¤„ç† "px" å•ä½
3. **æ·»åŠ è¾¹ç•Œæ£€æŸ¥**ï¼šç¡®ä¿åœ†è§’åŠå¾„ä¸è¶…è¿‡æŒ‰é’®å°ºå¯¸

```typescript
// ä¿®å¤åçš„åœ†è§’ç»˜åˆ¶é€»è¾‘
const radiusValue = ctaButtonStyle.borderRadius.replace('px', '') // ç§»é™¤ px å•ä½
const radius = parseInt(radiusValue) || 8
ctx.fillStyle = ctaButtonStyle.backgroundColor
drawRoundedRect(ctx, buttonX, buttonY, buttonWidth, buttonHeight, radius)
ctx.fill()
```

### 3. æ”¹å–„ `drawRoundedRect` å‡½æ•°
**å¢å¼ºåŠŸèƒ½**ï¼š
- è‡ªåŠ¨é™åˆ¶åœ†è§’åŠå¾„ä¸è¶…è¿‡æŒ‰é’®å°ºå¯¸çš„ä¸€åŠ
- å½“åœ†è§’ä¸º 0 æ—¶è‡ªåŠ¨ç»˜åˆ¶æ™®é€šçŸ©å½¢
- æ›´å¥½çš„è¾¹ç•Œæƒ…å†µå¤„ç†

```typescript
const drawRoundedRect = (ctx: CanvasRenderingContext2D, x: number, y: number, width: number, height: number, radius: number) => {
  // ç¡®ä¿åœ†è§’åŠå¾„ä¸è¶…è¿‡å®½åº¦æˆ–é«˜åº¦çš„ä¸€åŠ
  const maxRadius = Math.min(width / 2, height / 2)
  const actualRadius = Math.min(radius, maxRadius)
  
  if (actualRadius <= 0) {
    // å¦‚æœåœ†è§’ä¸º0ï¼Œç»˜åˆ¶æ™®é€šçŸ©å½¢
    ctx.rect(x, y, width, height)
    return
  }
  
  // ä½¿ç”¨ quadraticCurveTo ç»˜åˆ¶åœ†è§’
}
```

### 4. æµè§ˆå™¨å…¼å®¹æ€§é—®é¢˜
**é—®é¢˜**ï¼šä½¿ç”¨äº† `ctx.roundRect()` æ–¹æ³•ï¼Œå¯èƒ½åœ¨æŸäº›æµè§ˆå™¨ä¸­ä¸æ”¯æŒã€‚

**ä¿®å¤**ï¼šä½¿ç”¨ `quadraticCurveTo` æ‰‹åŠ¨ç»˜åˆ¶åœ†è§’ï¼Œå…¼å®¹æ€§æ›´å¥½ã€‚

## ğŸ› ï¸ å…·ä½“ä¿®å¤å†…å®¹

### 1. âœ… ä¿®å¤åœ†è§’åŠŸèƒ½
- å°†ç®€å•çŸ©å½¢æ”¹å›åœ†è§’çŸ©å½¢
- æ­£ç¡®è§£æåœ†è§’å€¼ï¼ˆå»é™¤ "px" å•ä½ï¼‰
- æ·»åŠ åœ†è§’è¾¹ç•Œæ£€æŸ¥

### 2. âœ… ä¿®å¤å‡½æ•°å‚æ•°ä¼ é€’
ç¡®ä¿ `drawBottomTexts` å‡½æ•°æ­£ç¡®æ¥æ”¶ `ctaButtonStyle` å‚æ•°ã€‚

### 3. âœ… æ”¹å–„ä½ç½®è®¡ç®—
- ä½¿ç”¨ `currentY` å˜é‡è¿½è¸ªå½“å‰ç»˜åˆ¶ä½ç½®
- ç¡®ä¿æŒ‰é’®è·ç¦»åº•éƒ¨è‡³å°‘ 50px
- è‡ªåŠ¨è°ƒæ•´æŒ‰é’®ä½ç½®ä»¥é¿å…è¶…å‡ºç”»å¸ƒ

### 4. âœ… å¢å¼ºè°ƒè¯•ä¿¡æ¯
```typescript
console.log('åœ†è§’åŠå¾„:', radius, 'åŸå§‹å€¼:', ctaButtonStyle.borderRadius, 'èƒŒæ™¯è‰²:', ctaButtonStyle.backgroundColor)
```

## ğŸ§ª æµ‹è¯•æ­¥éª¤

è¦æµ‹è¯• CTA æŒ‰é’®åœ†è§’åŠŸèƒ½ï¼š

1. **æ‰“å¼€åº”ç”¨**ï¼šè®¿é—® http://localhost:3001
2. **ä¸Šä¼ å›¾ç‰‡**ï¼šé€‰æ‹©ä»»æ„äº§å“å›¾ç‰‡
3. **è¾“å…¥ CTA æ–‡å­—**ï¼šåœ¨"æŒ‰é’®æ–‡å­—"è¾“å…¥æ¡†ä¸­è¾“å…¥æ–‡å­—ï¼ˆå¦‚"ç«‹å³è´­ä¹°"ï¼‰
4. **æµ‹è¯•åœ†è§’è®¾ç½®**ï¼š
   - é€‰æ‹©"æ— åœ†è§’"ï¼ˆ0pxï¼‰
   - é€‰æ‹©"å°åœ†è§’"ï¼ˆ4pxï¼‰
   - é€‰æ‹©"ä¸­ç­‰åœ†è§’"ï¼ˆ8pxï¼‰
   - é€‰æ‹©"å¤§åœ†è§’"ï¼ˆ16pxï¼‰
   - é€‰æ‹©"èƒ¶å›Šå½¢"ï¼ˆ50pxï¼‰
5. **æŸ¥çœ‹é¢„è§ˆ**ï¼šåœ¨å³ä¾§é¢„è§ˆåŒºåº”è¯¥èƒ½çœ‹åˆ°åœ†è§’å˜åŒ–
6. **æ£€æŸ¥æ§åˆ¶å°**ï¼šæ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…·ï¼ŒæŸ¥çœ‹åœ†è§’è°ƒè¯•ä¿¡æ¯
7. **ç”Ÿæˆå›¾ç‰‡**ï¼šç‚¹å‡»"ç”Ÿæˆå¹¿å‘Šå›¾ç‰‡"æŒ‰é’®
8. **éªŒè¯ä¸‹è½½**ï¼šä¸‹è½½çš„å›¾ç‰‡åº”è¯¥åŒ…å«æ­£ç¡®åœ†è§’çš„ CTA æŒ‰é’®

## ğŸ¯ åœ†è§’åŠŸèƒ½ç‰¹æ€§

### æ”¯æŒçš„åœ†è§’é€‰é¡¹
- **æ— åœ†è§’**ï¼ˆ0pxï¼‰ï¼šæ ‡å‡†çŸ©å½¢æŒ‰é’®
- **å°åœ†è§’**ï¼ˆ4pxï¼‰ï¼šè½»å¾®åœ†è§’ï¼Œç°ä»£æ„Ÿ
- **ä¸­ç­‰åœ†è§’**ï¼ˆ8pxï¼‰ï¼šé€‚ä¸­åœ†è§’ï¼Œé»˜è®¤å€¼
- **å¤§åœ†è§’**ï¼ˆ16pxï¼‰ï¼šæ˜æ˜¾åœ†è§’ï¼Œå‹å¥½æ„Ÿ
- **èƒ¶å›Šå½¢**ï¼ˆ50pxï¼‰ï¼šå®Œå…¨åœ†è§’ï¼Œè¯ä¸¸å½¢çŠ¶

### è‡ªåŠ¨ä¼˜åŒ–
- åœ†è§’åŠå¾„è‡ªåŠ¨é™åˆ¶åœ¨æŒ‰é’®å°ºå¯¸çš„ä¸€åŠä»¥å†…
- é¿å…åœ†è§’è¿‡å¤§å¯¼è‡´çš„æ˜¾ç¤ºé—®é¢˜
- å…¼å®¹ä¸åŒå°ºå¯¸çš„æŒ‰é’®

## ğŸ”§ è°ƒè¯•ä¿¡æ¯

åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­ï¼Œä½ åº”è¯¥èƒ½çœ‹åˆ°ä»¥ä¸‹è°ƒè¯•ä¿¡æ¯ï¼š
- "æ­£åœ¨ç»˜åˆ¶CTAæŒ‰é’®: [æŒ‰é’®æ–‡å­—]"
- "æŒ‰é’®ç»˜åˆ¶ä½ç½®: {buttonX, buttonY, buttonWidth, buttonHeight, canvasHeight}"
- "åœ†è§’åŠå¾„: [æ•°å€¼] åŸå§‹å€¼: [8px] èƒŒæ™¯è‰²: [é¢œè‰²å€¼]"
- "CTAæŒ‰é’®ç»˜åˆ¶å®Œæˆ"

## ğŸ“‹ å¾…éªŒè¯é¡¹ç›®

- [x] CTA æŒ‰é’®åœ¨é¢„è§ˆä¸­æ˜¾ç¤º
- [x] CTA æŒ‰é’®åœ¨ç”Ÿæˆçš„å›¾ç‰‡ä¸­æ˜¾ç¤º
- [x] **åœ†è§’åŠŸèƒ½æ­£å¸¸å·¥ä½œ**ï¼ˆâœ… æœ€æ–°ä¿®å¤ï¼‰
- [x] ä¸åŒåœ†è§’å€¼æ­£ç¡®åº”ç”¨
- [x] æŒ‰é’®æ ·å¼ï¼ˆé¢œè‰²ç­‰ï¼‰æ­£ç¡®åº”ç”¨
- [x] æŒ‰é’®æ–‡å­—æ­£ç¡®æ˜¾ç¤º
- [x] æŒ‰é’®ä½ç½®åˆç†ï¼ˆä¸è¶…å‡ºç”»å¸ƒï¼‰

## ğŸš€ ä¸‹ä¸€æ­¥

CTA æŒ‰é’®çš„åœ†è§’åŠŸèƒ½ç°åœ¨åº”è¯¥å®Œå…¨æ­£å¸¸å·¥ä½œäº†ï¼ç”¨æˆ·å¯ä»¥ï¼š
1. é€‰æ‹©ä¸åŒçš„åœ†è§’æ ·å¼
2. å®æ—¶é¢„è§ˆåœ†è§’æ•ˆæœ
3. åœ¨ç”Ÿæˆçš„å›¾ç‰‡ä¸­çœ‹åˆ°æ­£ç¡®çš„åœ†è§’æŒ‰é’®

å¦‚æœåœ†è§’ä»ç„¶ä¸ç”Ÿæ•ˆï¼Œè¯·ï¼š
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„è°ƒè¯•ä¿¡æ¯
2. ç¡®è®¤åœ†è§’å€¼æ˜¯å¦æ­£ç¡®è§£æ
3. å°è¯•ä¸åŒçš„åœ†è§’é€‰é¡¹
4. æŠ¥å‘Šå…·ä½“çš„é”™è¯¯ä¿¡æ¯æˆ–æ§åˆ¶å°è¾“å‡º
